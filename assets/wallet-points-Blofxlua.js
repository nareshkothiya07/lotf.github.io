import{t as A,a as I,u as x,v as R,r as d,j as e,S as i,i as k,K as E,B as O,q as W,b6 as D,W as L,b as N,b2 as G,F as H,d as K,aL as M,G as u,I as y,l as S,m as F,s as V,J as z,T as _,b5 as w}from"./index-DSO9TgYq.js";import{u as q}from"./useFilterAndSearch-PJD0Zg8P.js";import{C}from"./CustomTypography-CRnDvUFn.js";import{D as J}from"./DebouncedInput-DhmfX_1V.js";import{A as Q}from"./ArrowUpOutlined-C9GTlrEN.js";import{d as U}from"./doctor-9YdFtdUi.js";import{a as Z}from"./specialty-CpBsygzZ.js";import"./handleScroll-BwFQoF1o.js";import{u as $}from"./hooks-CMWd8yYb.js";import"./CloseOutlined-DRBnXhIJ.js";import"./regex-AjllrUCH.js";function X(){const{lang:t}=A(),o=I(),n=x(),r=R(o.breakpoints.down("sm")),{filter:j,search:P,setSearch:f,onResetHandler:p,onRemoveFilterHandler:s,onFilterHandler:m}=q();d.useEffect(()=>{},[j]);const g=d.useMemo(()=>[{header:n.formatMessage({id:"finance.patientName"}),accessorKey:"from",cell:({row:a})=>{var l;return(l=a.original)==null?void 0:l.id}},{header:n.formatMessage({id:"finance.totalPoints"}),accessorKey:"doctor",enableSorting:!1,cell:({row:a})=>e.jsxs(i,{direction:"row",spacing:1.5,alignItems:"center",children:[e.jsx(k,{alt:"Avatar 1",size:"sm",src:a.original.photo}),e.jsx(C,{className:"typography-inline",value:a.original.name[t]})]})},{header:n.formatMessage({id:"finance.purchases"}),accessorKey:"type",enableSorting:!1,cell:({row:a})=>{var l,h;return e.jsx(C,{className:"typography-inline",value:(h=(l=a.original)==null?void 0:l.speciality)==null?void 0:h.speciality_name[t]})}}],[]);return e.jsx(e.Fragment,{children:e.jsx(E,{data:{data:[],meta:{}},columns:g,isLoading:!1,setPagination:a=>{},setSortingParams:a=>{},children:e.jsxs(i,{direction:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",sx:{px:2,py:2,...r&&{"& .MuiOutlinedInput-root, & .MuiFormControl-root":{width:"100%"}}},children:[e.jsx(O,{sx:{width:{xs:"70%",md:"70%"}},children:e.jsx(i,{direction:"row",spacing:2,alignItems:"center",children:e.jsx(J,{value:P,onFilterChange:a=>f(a),placeholder:n.formatMessage({id:"finance.searchWalletPointsPlaceholder"})})})}),e.jsx(i,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",sx:{width:{xs:"100%",sm:"auto"}},children:e.jsx(i,{direction:"row",spacing:2,alignItems:"center",children:e.jsx(W,{variant:"outlined",startIcon:e.jsx(Q,{}),children:n.formatMessage({id:"common.export"})})})})]})})})}const Y=()=>({noOfPoints:"",valuePoints:""}),ee=()=>{const t=x(),[o,n]=d.useState([]),{data:r,setPagination:j,setFilterCriteria:P}=Z(D.TEN);$(c=>c.app.loading),L();const f=d.useMemo(()=>Y(),[]),p=N({initialValues:f,validationSchema:U(t),enableReinitialize:!0,onSubmit:async(c,{setSubmitting:B})=>{try{const v={...c}}catch(v){B(!1),console.error(v)}}});d.useEffect(()=>{var c;(c=r==null?void 0:r.data)!=null&&c.length&&G(r,o,n)},[r]);const{errors:s,touched:m,handleSubmit:g,handleChange:T,values:a,isSubmitting:l,handleBlur:h,setFieldTouched:ae,getFieldProps:b,setFieldValue:ne}=p;return e.jsx(O,{sx:{mb:5,mt:2},children:e.jsx(H,{value:p,children:e.jsxs(K,{autoComplete:"off",noValidate:!0,onSubmit:g,children:[e.jsx(M,{title:t.formatMessage({id:"finance.signupPoints"}),subheader:t.formatMessage({id:"finance.signupPointsSubtitle"}),children:e.jsx(u,{container:!0,spacing:2,children:e.jsxs(u,{item:!0,xs:12,sm:6,children:[e.jsxs(i,{spacing:1,children:[e.jsx(y,{htmlFor:"noOfPoints",children:t.formatMessage({id:"finance.numberOfPoints"})}),e.jsx(S,{fullWidth:!0,id:"noOfPoints",placeholder:t.formatMessage({id:"finance.numberOfPoints"}),...b("noOfPoints"),error:!!(m.noOfPoints&&s.noOfPoints)})]}),m.noOfPoints&&s.noOfPoints&&e.jsx(F,{error:!0,id:"helper-noOfPoints",children:s==null?void 0:s.noOfPoints})]})})}),e.jsx("br",{}),e.jsx(M,{title:t.formatMessage({id:"finance.conversionRate"}),subheader:t.formatMessage({id:"finance.conversionRateSubtitle"}),children:e.jsx(u,{container:!0,spacing:2,children:e.jsxs(u,{item:!0,xs:12,sm:6,children:[e.jsxs(i,{spacing:1,children:[e.jsx(y,{htmlFor:"valuePoints",children:t.formatMessage({id:"finance.valueofSARtoPoints"})}),e.jsx(S,{fullWidth:!0,id:"valuePoints",placeholder:t.formatMessage({id:"finance.valueofSARtoPoints"}),...b("valuePoints"),error:!!(m.valuePoints&&s.valuePoints)})]}),m.valuePoints&&s.valuePoints&&e.jsx(F,{error:!0,id:"helper-valuePoints",children:s==null?void 0:s.valuePoints})]})})}),e.jsx(i,{direction:"row",sx:{mt:2},justifyContent:"flex-start",alignItems:"center",spacing:2,children:e.jsx(V,{type:"submit",loading:l,loadingIndicator:t.formatMessage({id:"common.processing"}),variant:"contained",children:t.formatMessage({id:"common.save"})})})]})})})},te=ee;function se(t){return[{title:t.formatMessage({id:"sidebar.walletPoints"}),to:"/finance/wallet-points"}]}function he(){I();const t=x(),[o,n]=d.useState(1);return e.jsxs(e.Fragment,{children:[e.jsx(z,{custom:!0,links:se(t)}),e.jsx(i,{direction:"row",marginBottom:"20px",spacing:2,justifyContent:"space-between",alignItems:"center",children:e.jsx(_,{variant:"h2",children:t.formatMessage({id:"sidebar.walletPoints"})})}),e.jsxs(i,{direction:"row",marginBottom:"20px",spacing:2,children:[e.jsx(w,{color:o===1?"primary":"default",label:t.formatMessage({id:"finance.patientsPoints"}),sx:{borderRadius:"15px"},onClick:()=>{n(1)},variant:"filled"}),e.jsx(w,{color:o===2?"primary":"default",label:t.formatMessage({id:"finance.pointsManagements"}),sx:{borderRadius:"15px"},onClick:()=>{n(2)},variant:"filled"})]}),o===1&&e.jsx(X,{}),o===2&&e.jsx(te,{})]})}export{he as default};
