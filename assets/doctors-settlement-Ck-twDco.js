import{t as h,u as j,W as A,r as S,y as u,j as t,S as g,i as _,z as M,J as v,T as F,U as C}from"./index-DSO9TgYq.js";import{d as f}from"./dayjs.min-pRfd56nx.js";import{C as i}from"./CustomTypography-CRnDvUFn.js";import{S as N}from"./SettlementTable-MY3SXxXc.js";import{E as b}from"./EyeOutlined-ChV9zO9W.js";import"./useFilterAndSearch-PJD0Zg8P.js";import"./DebouncedInput-DhmfX_1V.js";import"./CloseOutlined-DRBnXhIJ.js";import"./finance-FNhwWqHi.js";import"./ArrowUpOutlined-C9GTlrEN.js";function k(c){return[{title:c.formatMessage({id:"sidebar.home"}),to:C},{title:c.formatMessage({id:"finance.doctorsSettlement"}),to:"/finance/settlement/doctors"}]}function B(){const{lang:c}=h(),r=j(),p=A(),y=S.useMemo(()=>[{header:r.formatMessage({id:"common.weekly"}),accessorKey:"week_start",cell:({row:e})=>{var o,s;const a=f((o=e.original)==null?void 0:o.week_start).format(u),n=f((s=e.original)==null?void 0:s.week_end).format(u);return t.jsx(i,{className:"typography-inline",value:`${a} - ${n}`})}},{header:r.formatMessage({id:"common.doctor"}),accessorKey:"doctor",enableSorting:!1,cell:({row:e})=>{var a,n,o,s,l;return t.jsxs(g,{direction:"row",spacing:1.5,alignItems:"center",children:[t.jsx(_,{alt:"Doctor Avatar",size:"sm",src:((n=(a=e.original)==null?void 0:a.doctor)==null?void 0:n.photo)||""}),t.jsx(i,{className:"typography-inline",value:(s=(o=e.original)==null?void 0:o.doctor)!=null&&s.name&&(e.original.doctor.name[c]||((l=e.original.doctor.name)==null?void 0:l.en))||"N/A"})]})}},{header:r.formatMessage({id:"finance.transactionCount"}),accessorKey:"transaction_count",enableSorting:!1,cell:({row:e})=>{var a;return t.jsx(i,{className:"typography-inline",value:((a=e.original)==null?void 0:a.transaction_count)||0})}},{header:r.formatMessage({id:"finance.totalAmountVisits"}),accessorKey:"total_amount",cell:({row:e})=>{var n;const a=((n=e.original)==null?void 0:n.total_amount)||0;return t.jsx(i,{className:"typography-inline",value:a,renderFunction:o=>`${o} SAR`})}},{header:r.formatMessage({id:"finance.refundAmount"}),accessorKey:"refund_amount",cell:({row:e})=>{var n;const a=((n=e.original)==null?void 0:n.refund_amount)||0;return t.jsx(i,{className:"typography-inline",value:a,renderFunction:o=>`${parseFloat(o).toFixed(2)} SAR`})}},{header:r.formatMessage({id:"finance.doctorCommision"}),accessorKey:"doctor_commission",cell:({row:e})=>{var o;const n=((((o=e.original)==null?void 0:o.total_amount)||0)*.7).toFixed(2);return t.jsx(i,{className:"typography-inline",value:n,renderFunction:s=>`${s} SAR`})}},{header:r.formatMessage({id:"finance.lotfCommission"}),accessorKey:"lotf_commission",cell:({row:e})=>{var o;const n=((((o=e.original)==null?void 0:o.total_amount)||0)*.3).toFixed(2);return t.jsx(i,{className:"typography-inline",value:n,renderFunction:s=>`${s} SAR`})}},{header:r.formatMessage({id:"common.actions"}),accessorKey:"Actions",meta:{className:"cell-center"},enableSorting:!1,cell:({row:e,column:a})=>{const n=()=>{var m,d;const o=((m=a.columnDef.meta)==null?void 0:m.currentPage)||0,s=((d=a.columnDef.meta)==null?void 0:d.pageSize)||25,x=o*s+(e.index??0)+1;p(`/finance/settlement/doctors/${x}`)};return t.jsx(t.Fragment,{children:t.jsx(M,{title:"View Details",onClick:n,children:t.jsx(b,{})})})}}],[c]);return t.jsxs(t.Fragment,{children:[t.jsx(v,{custom:!0,links:k(r)}),t.jsx(g,{direction:"row",marginBottom:"20px",spacing:2,justifyContent:"space-between",alignItems:"center",children:t.jsx(F,{variant:"h2",children:r.formatMessage({id:"finance.doctorsSettlement"})})}),t.jsx(N,{type:"Doctor",columns:y})]})}export{B as default};
