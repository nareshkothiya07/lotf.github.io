import{p as q}from"./regex-AjllrUCH.js";import{Y as S,Z as i,r as m,b6 as M,bG as b,at as l,au as p,b8 as d,av as c,bH as P,bI as h,cR as R}from"./index-DSO9TgYq.js";const F=function(a,t=!1){return S().shape({first_name:i().max(255).required(a.formatMessage({id:"common.validation.required"})),role_id:i().max(255).required(a.formatMessage({id:"common.validation.required"})),email:i().email(a.formatMessage({id:"common.validation.invalidEmail"})).max(255).required(a.formatMessage({id:"common.validation.required"})),phone:i().matches(q,a.formatMessage({id:"common.validation.invalidPhone"})).required(a.formatMessage({id:"common.validation.required"})),password:i().when([],{is:()=>!t,then:e=>e.required(a.formatMessage({id:"common.validation.passwordRequired"})),otherwise:e=>e.notRequired()}),photo:i().required(a.formatMessage({id:"common.validation.imageRequired"}))})},r={administrators:"/api/v1/admin/administrators"};function I(){const[a,t]=m.useState({}),[e,s]=m.useState({page:1,pageSize:M.TEN}),[o,g]=m.useState({updated_at:"asc"}),u=m.useMemo(()=>{const n=b(a,e,o);return`${r.administrators}${n?`?${n}`:""}`},[a,e,o]),{data:v,error:$,isLoading:y}=l(u,p,{revalidateOnFocus:!1,revalidateIfStale:!1,keepPreviousData:!0,errorRetryCount:1});return{data:v,error:$,url:u,isLoading:y,setSorting:g,setPagination:s,setFilterCriteria:n=>{var f;((f=Object.keys(n))==null?void 0:f.length)==0?t({}):(s(w=>({...w,page:1})),t(n))}}}async function C(a,t){try{await d.post(`${r.administrators}`,a),c(t)}catch(e){throw e}}async function G(a,t,e){try{await d.patch(`${r.administrators}/${a}`,e),c(t)}catch(s){throw s}}async function _(a,t){try{await d.patch(`${r.administrators}/${a}`,t),c(`${r.administrators}/${a}`)}catch(e){throw e}}async function k(a,t){try{await d.patch(`${r.administrators}/${a}`,t)}catch(e){throw e}}async function D(a,t){try{await d.delete(`${r.administrators}/${a}`),c(t)}catch(e){throw e}}function L(a){const t=P();t(h(!0));const{data:e,error:s,isLoading:o}=l(`${r.administrators}/${a}`,p,{revalidateOnFocus:!1,revalidateIfStale:!1,keepPreviousData:!0,errorRetryCount:1});return t(R(e==null?void 0:e.data)),t(h(o)),{data:e==null?void 0:e.data,error:s,isLoading:o}}export{F as a,C as b,G as c,D as d,_ as e,k as f,L as g,I as u};
