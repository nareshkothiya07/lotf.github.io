import{t as F,a as b,u as C,v as M,r as z,j as t,K as P,S as r,B as l,q as T}from"./index-DSO9TgYq.js";import{u as v}from"./useFilterAndSearch-PJD0Zg8P.js";import{D}from"./DebouncedInput-DhmfX_1V.js";import{u as y}from"./finance-FNhwWqHi.js";import{A}from"./ArrowUpOutlined-C9GTlrEN.js";function G({columns:p,type:d}){var c,m;F();const g=b(),o=C(),u=M(g.breakpoints.down("sm")),x=d.toLowerCase()==="doctor"?"doctor":"provider",{data:e,error:B,isLoading:h,setFilterCriteria:S,setPagination:f,setSorting:j}=y(x),{filter:i,search:a,setSearch:w}=v();z.useEffect(()=>{const I={...i,...a?{search:a}:{}};S(I)},[i,a]);const n=e!=null&&e.meta?{data:e.data||[],meta:{page:e.meta.page,pageSize:e.meta.pageSize,total:e.meta.totalItems,pages:e.meta.totalPages}}:{data:(e==null?void 0:e.data)||[],meta:{page:1,pageSize:25,total:((c=e==null?void 0:e.data)==null?void 0:c.length)||0,pages:Math.ceil((((m=e==null?void 0:e.data)==null?void 0:m.length)||0)/25)}};return t.jsx(t.Fragment,{children:t.jsxs(P,{data:n,columns:p.map(s=>({...s,meta:{...s.meta,currentPage:n.meta.page-1,pageSize:n.meta.pageSize}})),isLoading:h,setPagination:s=>{f(s)},setSortingParams:s=>{j(s)},children:[t.jsxs(r,{direction:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",sx:{px:2,paddingTop:2,...u&&{"& .MuiOutlinedInput-root, & .MuiFormControl-root":{width:"100%"}}},children:[t.jsx(l,{sx:{width:{xs:"70%",md:"70%"}},children:t.jsx(r,{direction:"row",spacing:2,alignItems:"center",children:t.jsx(D,{value:a,onFilterChange:s=>w(s),placeholder:o.formatMessage({id:"finance.searchSettlements"})})})}),t.jsx(r,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",sx:{width:{xs:"100%",sm:"auto"}},children:t.jsx(r,{direction:"row",spacing:2,alignItems:"center",children:t.jsx(T,{variant:"outlined",startIcon:t.jsx(A,{}),children:o.formatMessage({id:"common.export"})})})})]}),t.jsx(l,{sx:{px:2,pt:2,pb:1}})]})})}export{G as S};
