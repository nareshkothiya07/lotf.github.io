import{t as h,u as x,W as v,r as j,y as d,j as e,S as u,i as A,z as _,J as S,T as M,U as F}from"./index-DSO9TgYq.js";import{d as g}from"./dayjs.min-pRfd56nx.js";import{C as i}from"./CustomTypography-CRnDvUFn.js";import{S as C}from"./SettlementTable-MY3SXxXc.js";import{E as N}from"./EyeOutlined-ChV9zO9W.js";import"./useFilterAndSearch-PJD0Zg8P.js";import"./DebouncedInput-DhmfX_1V.js";import"./CloseOutlined-DRBnXhIJ.js";import"./finance-FNhwWqHi.js";import"./ArrowUpOutlined-C9GTlrEN.js";function b(l){return[{title:l.formatMessage({id:"sidebar.home"}),to:F},{title:l.formatMessage({id:"finance.providersSettlement"}),to:"/finance/settlement/providers"}]}function B(){const{lang:l}=h(),s=x(),p=v(),f=j.useMemo(()=>[{header:s.formatMessage({id:"common.weekly"}),accessorKey:"week_start",cell:({row:t})=>{var o,r;const a=g((o=t.original)==null?void 0:o.week_start).format(d),n=g((r=t.original)==null?void 0:r.week_end).format(d);return e.jsx(i,{className:"typography-inline",value:`${a} - ${n}`})}},{header:s.formatMessage({id:"common.provider"}),accessorKey:"hospital_name",enableSorting:!1,cell:({row:t})=>{var a,n;return e.jsxs(u,{direction:"row",spacing:1.5,alignItems:"center",children:[e.jsx(A,{alt:"Provider Avatar",size:"sm",src:""}),e.jsx(i,{className:"typography-inline",value:(a=t.original)!=null&&a.hospital_name&&(t.original.hospital_name[l]||((n=t.original.hospital_name)==null?void 0:n.en))||"N/A"})]})}},{header:s.formatMessage({id:"finance.transactionCount"}),accessorKey:"transaction_count",enableSorting:!1,cell:({row:t})=>{var a;return e.jsx(i,{className:"typography-inline",value:((a=t.original)==null?void 0:a.transaction_count)||0})}},{header:s.formatMessage({id:"finance.totalAmountVisits"}),accessorKey:"total_amount",cell:({row:t})=>{var n;const a=((n=t.original)==null?void 0:n.total_amount)||0;return e.jsx(i,{className:"typography-inline",value:a,renderFunction:o=>`${o} SAR`})}},{header:s.formatMessage({id:"finance.refundAmount"}),accessorKey:"refund_amount",cell:({row:t})=>{var n;const a=((n=t.original)==null?void 0:n.refund_amount)||0;return e.jsx(i,{className:"typography-inline",value:a,renderFunction:o=>`${parseFloat(o).toFixed(2)} SAR`})}},{header:s.formatMessage({id:"finance.providerCommission"}),accessorKey:"provider_commission",cell:({row:t})=>{var o;const n=((((o=t.original)==null?void 0:o.total_amount)||0)*.8).toFixed(2);return e.jsx(i,{className:"typography-inline",value:n,renderFunction:r=>`${r} SAR`})}},{header:s.formatMessage({id:"finance.lotfCommission"}),accessorKey:"lotf_commission",cell:({row:t})=>{var o;const n=((((o=t.original)==null?void 0:o.total_amount)||0)*.2).toFixed(2);return e.jsx(i,{className:"typography-inline",value:n,renderFunction:r=>`${r} SAR`})}},{header:s.formatMessage({id:"common.actions"}),accessorKey:"Actions",meta:{className:"cell-center"},enableSorting:!1,cell:({row:t,column:a})=>{const n=()=>{var c,m;const o=((c=a.columnDef.meta)==null?void 0:c.currentPage)||0,r=((m=a.columnDef.meta)==null?void 0:m.pageSize)||25,y=o*r+(t.index??0)+1;p(`/finance/settlement/providers/${y}`)};return e.jsx(e.Fragment,{children:e.jsx(_,{title:"View Details",onClick:n,children:e.jsx(N,{})})})}}],[l]);return e.jsxs(e.Fragment,{children:[e.jsx(S,{custom:!0,links:b(s)}),e.jsx(u,{direction:"row",marginBottom:"20px",spacing:2,justifyContent:"space-between",alignItems:"center",children:e.jsx(M,{variant:"h2",children:s.formatMessage({id:"finance.providersSettlement"})})}),e.jsx(C,{type:"Providers",columns:f})]})}export{B as default};
