import{t as v,a as w,u as A,v as F,r as c,j as e,S as t,i as l,b5 as m,y as S,z as C,J as E,T,K,B as d,q as u,U as B}from"./index-DSO9TgYq.js";import{d as D}from"./dayjs.min-pRfd56nx.js";import{u as _}from"./useFilterAndSearch-PJD0Zg8P.js";import{C as n}from"./CustomTypography-CRnDvUFn.js";import{D as N}from"./DebouncedInput-DhmfX_1V.js";import{b as P}from"./finance-FNhwWqHi.js";import{E as R}from"./EyeInvisibleOutlined-CaFaFVHk.js";import{F as z}from"./FilterOutlined-DlgxAz6z.js";import{A as O}from"./ArrowUpOutlined-C9GTlrEN.js";import"./CloseOutlined-DRBnXhIJ.js";function U(o){return[{title:o.formatMessage({id:"sidebar.home"}),to:B},{title:o.formatMessage({id:"sidebar.refund"})}]}function $(){const{lang:o}=v(),{data:g,error:k,isLoading:p,setFilterCriteria:f,url:L,setPagination:h,setSorting:x}=P(),j=w(),r=A(),y=F(j.breakpoints.down("sm")),{filter:i,search:M,setSearch:b}=_();c.useEffect(()=>{f(i)},[i]);const I=c.useMemo(()=>[{header:r.formatMessage({id:"finance.refundId"}),accessorKey:"refundId",cell:({row:s})=>{var a;return(a=s.original)==null?void 0:a.id}},{header:r.formatMessage({id:"common.from"}),accessorKey:"from",cell:({row:s})=>{var a;return e.jsxs(t,{direction:"row",spacing:1.5,alignItems:"center",children:[e.jsx(l,{alt:"Avatar 1",size:"sm",src:s.original.doctor.photo}),e.jsx(n,{className:"typography-inline",value:(a=s.original.doctor)==null?void 0:a.name[o]})]})}},{header:r.formatMessage({id:"common.to"}),accessorKey:"doctor",enableSorting:!1,cell:({row:s})=>{var a;return e.jsxs(t,{direction:"row",spacing:1.5,alignItems:"center",children:[e.jsx(l,{alt:"Avatar 1",size:"sm",src:s.original.patient.photo}),e.jsx(n,{className:"typography-inline",value:(a=s.original.patient)==null?void 0:a.name[o]})]})}},{header:r.formatMessage({id:"common.source"}),accessorKey:"type",enableSorting:!1,cell:({row:s})=>{var a;return e.jsx(n,{className:"typography-inline",value:(a=s.original)==null?void 0:a.source})}},{header:r.formatMessage({id:"common.amount"}),accessorKey:"amount",cell:({row:s})=>{var a;return e.jsx(n,{className:"typography-inline",value:(a=s.original)==null?void 0:a.total_amount})}},{header:r.formatMessage({id:"common.status"}),accessorKey:"status",disableSortBy:!0,cell:({row:s})=>e.jsx(e.Fragment,{children:s.original.status==="REFUNDED"?e.jsx(m,{color:"success",label:"Success",size:"small",variant:"light"}):e.jsx(m,{color:"error",label:"Failed",size:"small",variant:"light"})})},{header:r.formatMessage({id:"common.date"}),accessorKey:"created_at",cell:({row:s})=>{var a;return D((a=s.original)==null?void 0:a.created_at).format(S)}},{header:r.formatMessage({id:"common.actions"}),accessorKey:"Actions",meta:{className:"cell-center"},enableSorting:!1,cell:({row:s})=>e.jsx(C,{children:e.jsx(R,{})})}],[]);return e.jsxs(e.Fragment,{children:[e.jsx(E,{custom:!0,links:U(r)}),e.jsx(t,{direction:"row",marginBottom:"20px",spacing:2,justifyContent:"space-between",alignItems:"center",children:e.jsx(T,{variant:"h2",children:r.formatMessage({id:"sidebar.refund"})})}),e.jsxs(K,{data:g,columns:I,isLoading:p,setPagination:s=>{h(s)},setSortingParams:s=>{x(s)},children:[e.jsxs(t,{direction:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",sx:{px:2,paddingTop:2,...y&&{"& .MuiOutlinedInput-root, & .MuiFormControl-root":{width:"100%"}}},children:[e.jsx(d,{sx:{width:{xs:"70%",md:"70%"}},children:e.jsxs(t,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(N,{value:M,onFilterChange:s=>b(s),placeholder:r.formatMessage({id:"finance.searchRefunds"})}),e.jsx(u,{variant:"contained",startIcon:e.jsx(z,{}),children:r.formatMessage({id:"common.filter"})})]})}),e.jsx(t,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",sx:{width:{xs:"100%",sm:"auto"}},children:e.jsx(t,{direction:"row",spacing:2,alignItems:"center",children:e.jsx(u,{variant:"outlined",startIcon:e.jsx(O,{}),children:r.formatMessage({id:"common.export"})})})})]}),e.jsx(d,{sx:{px:2,pt:2,pb:1}})]})]})}export{$ as default};
