import{r as e,b6 as h,bG as m,at as v,au as F,av as y}from"./index-DSO9TgYq.js";const C={refunds:"/api/v1/admin/finance/refunds",coupons:"/api/v1/admin/coupon",settlements:"/api/v1/admin/finance/settlements",settlementTransactions:"/api/v1/admin/finance/settlement-transactions"},k=t=>{const[s,n]=e.useState({}),[r,a]=e.useState({page:1,pageSize:t||h.TEN}),[l,f]=e.useState({}),i=e.useMemo(()=>{const u=m(s,r,l);return`${C.coupons}${u?`?${u}`:""}`},[s,r,l]),{data:p,error:d,isLoading:o}=v(i,F,{revalidateOnFocus:!1,revalidateIfStale:!1,keepPreviousData:!0,errorRetryCount:1});return{data:p,error:d,isLoading:o,url:i,setPagination:a,setSorting:f,setFilterCriteria:u=>{Object.keys(u).length==0?n({}):(a(c=>({...c,page:1})),n(c=>({...c,...u})))},refreshCoupons:()=>{y(i)}}},O=t=>{const[s,n]=e.useState({}),[r,a]=e.useState({page:1,pageSize:t||h.TEN}),[l,f]=e.useState({}),i=e.useMemo(()=>{const g=m(s,r,l);return`${C.refunds}${g?`?${g}`:""}`},[s,r,l]),{data:p,error:d,isLoading:o}=v(i,F,{revalidateOnFocus:!1,revalidateIfStale:!1,keepPreviousData:!0,errorRetryCount:1});return{data:p,error:d,isLoading:o,url:i,setPagination:a,setSorting:f,setFilterCriteria:g=>{Object.keys(g).length==0?n({}):(a(u=>({...u,page:1})),n(u=>({...u,...g})))}}},b=(t,s=!1)=>{const[n,r]=e.useState({search_type:t}),[a,l]=e.useState({page:1,pageSize:s?1e3:25}),[f,i]=e.useState({}),p=e.useMemo(()=>{const c=m(n,a,f);return`${C.settlements}${c?`?${c}`:""}`},[n,a,f]),{data:d,error:o,isLoading:S}=v(p,F,{revalidateOnFocus:!1,revalidateIfStale:!1,keepPreviousData:!0,errorRetryCount:1});return{data:d,error:o,isLoading:S,url:p,setFilterCriteria:c=>{Object.keys(c).length==0?r({search_type:t}):r($=>({...$,...c}))},refreshSettlements:()=>{y(p)},setPagination:l,setSorting:i}},E=(t,s=null)=>{const[n,r]=e.useState(s?{search_type:t,...s}:null);e.useEffect(()=>{r(s?{search_type:t,...s}:null)},[t,s]);const a=e.useMemo(()=>{if(!n)return null;const o=m(n,{},{});return`${C.settlementTransactions}${o?`?${o}`:""}`},[n]),{data:l,error:f,isLoading:i}=v(a,F,{revalidateOnFocus:!1,revalidateIfStale:!1,keepPreviousData:!0,errorRetryCount:1});return{data:l,error:f,isLoading:i,url:a,setFilterCriteria:o=>{Object.keys(o).length==0?r({search_type:t}):r(S=>({...S,...o}))},refreshTransactions:()=>{y(a)}}};export{E as a,O as b,k as c,b as u};
