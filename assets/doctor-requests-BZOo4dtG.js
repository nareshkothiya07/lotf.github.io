import{t as N,W as _,u as D,r as n,a as P,v as k,j as e,S as i,i as B,X as q,y as H,z as U,M as L,E as z,H as J,T as x,J as V,K as W,B as f,q as j,x as G,U as Q}from"./index-DSO9TgYq.js";import{d as X}from"./dayjs.min-pRfd56nx.js";import{m as $}from"./doctor-Ca9o3VsJ.js";import{F as Y}from"./FilterDialog-D5JU5uJB.js";import{D as Z}from"./DebouncedInput-DhmfX_1V.js";import{R as ee}from"./RenderFilterKeys-DXC0MC7n.js";import{u as se}from"./useFilterAndSearch-PJD0Zg8P.js";import{C as l}from"./CustomTypography-CRnDvUFn.js";import{F as re}from"./FilterOutlined-DlgxAz6z.js";import{A as ae}from"./ArrowUpOutlined-C9GTlrEN.js";import"./doctor-9YdFtdUi.js";import"./regex-AjllrUCH.js";import"./specialty-CpBsygzZ.js";import"./useGenderList-C-bU5Ya0.js";import"./useStatusList-Dbp-x5Xm.js";import"./handleScroll-BwFQoF1o.js";import"./GenericAutocomplete-D3M5FyqM.js";import"./Autocomplete-BOe_mB7V.js";import"./CloseOutlined-DRBnXhIJ.js";import"./RenderConsultationType-B0EO_Tu5.js";import"./RenderGender-B7FOG7SF.js";function te(o){return[{title:o.formatMessage({id:"sidebar.home"}),to:Q},{title:o.formatMessage({id:"sidebar.doctors"}),to:"/doctor/list"},{title:o.formatMessage({id:"sidebar.joinRequests"})}]}function we(){const{lang:o}=N(),{data:y,error:oe,isLoading:M,setFilterCriteria:C,setPagination:F,setSorting:b}=$(),d=_(),a=D(),[p,u]=n.useState(!1),v=P(),R=k(v.breakpoints.down("sm")),S=n.useCallback(s=>{d(`/doctor/requests/${s}`)},[d]),{filter:c,search:w,setSearch:I,onResetHandler:g,onRemoveFilterHandler:T,onFilterHandler:A}=se();n.useEffect(()=>{C(c)},[c]);const E=n.useMemo(()=>[{header:a.formatMessage({id:"profile.id"}),accessorKey:"id",cell:({row:s})=>{var r;return(r=s.original)==null?void 0:r.id}},{header:a.formatMessage({id:"common.doctor"}),accessorKey:"name",enableSorting:!1,cell:({row:s})=>e.jsxs(i,{direction:"row",spacing:1.5,alignItems:"center",children:[e.jsx(B,{alt:"Avatar 1",size:"sm",src:s.original.photo}),e.jsx(l,{className:"typography-inline",value:s.original.name[o]})]})},{header:a.formatMessage({id:"common.specialty"}),accessorKey:"specialty",enableSorting:!1,cell:({row:s})=>{var r,t;return e.jsx(l,{className:"typography-inline",value:(t=(r=s.original)==null?void 0:r.speciality)==null?void 0:t.speciality_name[o]})}},{header:a.formatMessage({id:"doctor.experience"}),accessorKey:"experience",cell:({row:s})=>{var r;return e.jsx(l,{className:"typography-inline",value:(r=s.original)==null?void 0:r.experience,renderFunction:t=>t+" "+a.formatMessage({id:"common.years"})})}},{header:a.formatMessage({id:"profile.email"}),accessorKey:"email",cell:({row:s})=>{var r;return e.jsx(l,{className:"typography-inline",value:(r=s.original)==null?void 0:r.email})}},{header:a.formatMessage({id:"profile.phoneNo"}),accessorKey:"phone_number",cell:({row:s})=>{var r;return e.jsx(l,{className:"typography-inline",value:q((r=s.original)==null?void 0:r.phone_number)})}},{header:a.formatMessage({id:"common.createdOn"}),accessorKey:"created_at",cell:({row:s})=>{var r;return X((r=s.original)==null?void 0:r.created_at).format(H)}},{header:a.formatMessage({id:"common.actions"}),accessorKey:"Actions",meta:{className:"cell-center"},enableSorting:!1,cell:({row:s})=>{const[r,t]=n.useState(null),K=!!r,O=m=>{t(m.currentTarget)},h=()=>{t(null)};return e.jsxs(e.Fragment,{children:[e.jsx(U,{onClick:O,children:e.jsx(L,{})}),e.jsx(z,{anchorEl:r,open:K,onClose:h,onClick:h,children:e.jsx(J,{onClick:m=>{m.stopPropagation(),S(s.original.id)},children:e.jsx(x,{variant:"body1",children:a.formatMessage({id:"doctor.viewRequest"})})})})]})}}],[]);return e.jsxs(e.Fragment,{children:[e.jsx(V,{custom:!0,links:te(a)}),e.jsx(i,{direction:"row",marginBottom:"20px",spacing:2,justifyContent:"space-between",alignItems:"center",children:e.jsx(x,{variant:"h2",children:a.formatMessage({id:"doctor.joinRequest"})})}),e.jsxs(W,{data:y,columns:E,isLoading:M,setPagination:s=>{F(s)},setSortingParams:s=>{b(s)},children:[p&&e.jsx(Y,{open:p,isDoctorList:!1,initialValue:c,handleClose:()=>{u(!1)},setCriteria:A,resetFilter:g}),e.jsxs(i,{direction:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",sx:{px:2,paddingTop:2,...R&&{"& .MuiOutlinedInput-root, & .MuiFormControl-root":{width:"100%"}}},children:[e.jsx(f,{sx:{width:{xs:"70%",md:"70%"}},children:e.jsxs(i,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(Z,{value:w,onFilterChange:s=>I(s),placeholder:a.formatMessage({id:"doctor.searchPlaceholder"})}),e.jsx(j,{variant:"contained",onClick:()=>u(!0),startIcon:e.jsx(re,{}),children:a.formatMessage({id:"common.filter"})})]})}),e.jsx(i,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",sx:{width:{xs:"100%",sm:"auto"}},children:e.jsx(i,{direction:"row",spacing:2,alignItems:"center",children:e.jsx(j,{variant:"outlined",startIcon:e.jsx(ae,{}),children:a.formatMessage({id:"common.export"})})})})]}),e.jsx(f,{sx:{px:2,pt:2,pb:1},children:e.jsx(ee,{params:c,onClearFilter:g,onRemoveFilter:T,referenceKey:G.DOCTOR_STATUS})})]})]})}export{we as default};
