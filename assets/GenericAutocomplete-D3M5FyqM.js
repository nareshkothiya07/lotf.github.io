import{ce as i,t as E,r as o,cf as G,j as u,l as I,cg as L}from"./index-DSO9TgYq.js";import{A as p}from"./Autocomplete-BOe_mB7V.js";function z({label:h,fieldId:t,options:r,isLoading:C,onSearch:g,fieldName:d="name",onScroll:b,multiple:c=!1,...j}){const{values:s,setFieldValue:l}=i(),{lang:m}=E(),x=o.useMemo(()=>G(e=>{g(e)},800),[g]),f=o.useCallback((e,n)=>{x(n)},[x]),A=o.useMemo(()=>{const e=(s==null?void 0:s[t])||[];return c?e.map(n=>r==null?void 0:r.find(a=>a.id===n)).filter(Boolean)||[]:(r==null?void 0:r.find(n=>n.id===Number(s==null?void 0:s[t])))||null},[r,s,t,c]),P=o.useMemo(()=>e=>{var n,a;return((a=(n=e==null?void 0:e[d])==null?void 0:n[m])==null?void 0:a.toString())||""},[d,m]),F=o.useCallback((e,n,a)=>{if(c){const k=n.map(M=>M.id);l(t,k)}else l(t,(n==null?void 0:n.id)||null)},[l,t,c]);return u.jsx(p,{...j,multiple:c,options:r||[],getOptionLabel:P,value:A,onChange:F,onInputChange:f,renderInput:e=>u.jsx(I,{...e,placeholder:h,InputProps:{...e.InputProps,endAdornment:u.jsxs(u.Fragment,{children:[C?u.jsx(L,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}}),ListboxProps:{onScroll:b,style:{maxHeight:200,overflowY:"auto"}}})}export{z as G};
