import{u as S,j as e,S as n,T as p,t as H,r as i,W as U,a as L,v as z,c as V,i as W,bj as q,y as G,z as J,M as Q,E as $,H as C,J as X,K as Y,B as b,q as F,x as Z,U as ee}from"./index-DSO9TgYq.js";import{d as te}from"./dayjs.min-pRfd56nx.js";import{n as se,o as re}from"./doctor-Ca9o3VsJ.js";import{C as oe}from"./ConfirmationDialog-DR_Ho8RD.js";import{F as ae}from"./FilterDialog-D5JU5uJB.js";import{D as ie}from"./DebouncedInput-DhmfX_1V.js";import{R as ne}from"./RenderFilterKeys-DXC0MC7n.js";import{u as ce}from"./useFilterAndSearch-PJD0Zg8P.js";import{C as u}from"./CustomTypography-CRnDvUFn.js";import{F as le}from"./FilterOutlined-DlgxAz6z.js";import{A as de}from"./ArrowUpOutlined-C9GTlrEN.js";import"./Dialog-CPoUMqzk.js";import"./doctor-9YdFtdUi.js";import"./regex-AjllrUCH.js";import"./specialty-CpBsygzZ.js";import"./useGenderList-C-bU5Ya0.js";import"./useStatusList-Dbp-x5Xm.js";import"./handleScroll-BwFQoF1o.js";import"./GenericAutocomplete-D3M5FyqM.js";import"./Autocomplete-BOe_mB7V.js";import"./CloseOutlined-DRBnXhIJ.js";import"./RenderConsultationType-B0EO_Tu5.js";import"./RenderGender-B7FOG7SF.js";function me({open:a,handleClose:d,handleSubmit:c}){const l=S();return e.jsx(oe,{title:l.formatMessage({id:"doctor.deleteRejected.title"}),open:a,handleClose:d,handleSubmit:c,actionTitle:l.formatMessage({id:"common.delete"}),children:e.jsxs(n,{spacing:1,children:[e.jsx(p,{children:l.formatMessage({id:"doctor.deleteRejected.subtitle"})}),e.jsx(p,{children:l.formatMessage({id:"doctor.deleteRejected.confirmation"})})]})})}function pe(a){return[{title:a.formatMessage({id:"sidebar.home"}),to:ee},{title:a.formatMessage({id:"sidebar.doctors"}),to:"/doctor/list"},{title:a.formatMessage({id:"sidebar.rejected"})}]}function Be(){const{lang:a}=H(),[d,c]=i.useState(0),{data:l,error:ge,isLoading:R,setFilterCriteria:v,setPagination:I,url:h,setSorting:T}=se(),x=U(),s=S(),[f,j]=i.useState(!1),D=L(),w=z(D.breakpoints.down("sm")),A=i.useCallback(t=>{x(`/doctor/rejected/${t}`)},[x]),E=i.useCallback(async()=>{try{await re(d,h).then(t=>{V(s.formatMessage({id:"doctor.delete.deleteSucess"})),c(0)})}catch{c(0)}},[d,h,s]),{filter:g,search:O,setSearch:k,onResetHandler:M,onRemoveFilterHandler:K,onFilterHandler:_}=ce();i.useEffect(()=>{v(g)},[g]);const B=i.useMemo(()=>[{header:s.formatMessage({id:"profile.id"}),accessorKey:"id",cell:({row:t})=>{var r;return(r=t.original)==null?void 0:r.id}},{header:s.formatMessage({id:"common.doctor"}),accessorKey:"name",enableSorting:!1,cell:({row:t})=>e.jsxs(n,{direction:"row",spacing:1.5,alignItems:"center",children:[e.jsx(W,{alt:"Avatar 1",size:"sm",src:t.original.photo}),e.jsx(u,{className:"typography-inline",value:t.original.name[a]})]})},{header:s.formatMessage({id:"common.specialty"}),accessorKey:"speciality",enableSorting:!1,cell:({row:t})=>{var r,o;return e.jsx(u,{className:"typography-inline",value:(o=(r=t.original)==null?void 0:r.speciality)==null?void 0:o.speciality_name[a]})}},{header:s.formatMessage({id:"doctor.reason"}),accessorKey:"reason",enableSorting:!1,cell:({row:t})=>{var r,o;return e.jsx(q,{title:(r=t.original)==null?void 0:r.rejection_reason,children:(o=t.original)==null?void 0:o.rejection_reason})}},{header:s.formatMessage({id:"doctor.experience"}),accessorKey:"experience",cell:({row:t})=>{var r;return e.jsx(u,{className:"typography-inline",value:(r=t.original)==null?void 0:r.experience,renderFunction:o=>o+" "+s.formatMessage({id:"common.years"})})}},{header:s.formatMessage({id:"common.createdOn"}),accessorKey:"created_at",cell:({row:t})=>{var r;return te((r=t.original)==null?void 0:r.created_at).format(G)}},{header:s.formatMessage({id:"common.actions"}),accessorKey:"Actions",meta:{className:"cell-center"},enableSorting:!1,cell:({row:t})=>{const[r,o]=i.useState(null),P=!!r,N=m=>{o(m.currentTarget)},y=()=>{o(null)};return e.jsxs(e.Fragment,{children:[e.jsx(J,{onClick:N,children:e.jsx(Q,{})}),e.jsxs($,{anchorEl:r,open:P,onClose:y,onClick:y,children:[e.jsx(C,{onClick:m=>{m.stopPropagation(),A(t.original.id)},children:e.jsx(p,{variant:"body1",children:s.formatMessage({id:"doctor.viewRejection"})})}),e.jsx(C,{onClick:m=>{m.stopPropagation(),c(t.original.id)},children:e.jsx(p,{variant:"body1",children:s.formatMessage({id:"doctor.deleteDoctor"})})})]})]})}}],[]);return e.jsxs(e.Fragment,{children:[e.jsx(X,{custom:!0,links:pe(s)}),e.jsx(n,{direction:"row",marginBottom:"20px",spacing:2,justifyContent:"space-between",alignItems:"center",children:e.jsx(p,{variant:"h2",children:s.formatMessage({id:"common.rejected"})})}),e.jsxs(Y,{data:l,columns:B,isLoading:R,setPagination:t=>{I(t)},setSortingParams:t=>{T(t)},children:[f&&e.jsx(ae,{open:f,isDoctorList:!1,initialValue:g,handleClose:()=>{j(!1)},setCriteria:_,resetFilter:M}),e.jsxs(n,{direction:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",sx:{px:2,paddingTop:2,...w&&{"& .MuiOutlinedInput-root, & .MuiFormControl-root":{width:"100%"}}},children:[e.jsx(b,{sx:{width:{xs:"70%",md:"70%"}},children:e.jsxs(n,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(ie,{value:O,onFilterChange:t=>k(t),placeholder:s.formatMessage({id:"doctor.searchPlaceholder"})}),e.jsx(F,{variant:"contained",onClick:()=>j(!0),startIcon:e.jsx(le,{}),children:s.formatMessage({id:"common.filter"})})]})}),e.jsx(n,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",sx:{width:{xs:"100%",sm:"auto"}},children:e.jsx(n,{direction:"row",spacing:2,alignItems:"center",children:e.jsx(F,{variant:"outlined",startIcon:e.jsx(de,{}),children:s.formatMessage({id:"common.export"})})})})]}),e.jsx(b,{sx:{px:2,pt:2,pb:1},children:e.jsx(ne,{params:g,onClearFilter:M,onRemoveFilter:K,referenceKey:Z.DOCTOR_STATUS})})]}),e.jsx(me,{open:!!d,handleSubmit:E,handleClose:()=>{c(0)}})]})}export{Be as default};
