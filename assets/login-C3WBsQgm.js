import{ay as p,u as A,az as f,j as e,aA as B,Y as L,Z as g,G as a,S as d,I as j,aB as t,aC as w,m as h,N as S,z as q,aD as D,aE as E,T as b,aF as P,ax as z,q as W}from"./index-DSO9TgYq.js";import{A as O,a as T}from"./AnimateButton-C_cTvbpU.js";import{F as $}from"./FormControlLabel-DB_ChWU7.js";import{C as G}from"./Checkbox-DyJiWu1i.js";function R({isDemo:c=!1}){const[y,v]=p.useState(!1),r=A(),{login:k}=f(),[m,C]=p.useState(!1),I=()=>{C(!m)},F=s=>{s.preventDefault()};return e.jsx(e.Fragment,{children:e.jsx(B,{initialValues:{email:"",password:"",submit:null},validationSchema:L().shape({email:g().email(r.formatMessage({id:"auth.login.validation.email.invalid"})).max(255).required(r.formatMessage({id:"auth.login.validation.email.required"})),password:g().max(255).required(r.formatMessage({id:"auth.login.validation.password.required"}))}),onSubmit:async(s,{setErrors:n,setStatus:i,setSubmitting:o})=>{try{i({success:!0}),await k(s.email,s.password),i({success:!0}),o(!1)}catch(u){i({success:!1}),n({submit:u.message}),o(!1)}},children:({errors:s,handleBlur:n,handleChange:i,handleSubmit:o,isSubmitting:u,touched:l,values:x})=>e.jsx("form",{noValidate:!0,onSubmit:o,children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsxs(a,{item:!0,xs:12,children:[e.jsxs(d,{spacing:1,children:[e.jsx(j,{htmlFor:"email-login",children:e.jsx(t,{id:"auth.login.email"})}),e.jsx(w,{id:"email-login",type:"email",value:x.email,name:"email",onBlur:n,onChange:i,placeholder:r.formatMessage({id:"auth.login.email"}),fullWidth:!0,error:!!(l.email&&s.email)})]}),l.email&&s.email&&e.jsx(h,{error:!0,id:"standard-weight-helper-text-email-login",children:s.email})]}),e.jsxs(a,{item:!0,xs:12,children:[e.jsxs(d,{spacing:1,children:[e.jsx(j,{htmlFor:"password-login",children:e.jsx(t,{id:"auth.login.password"})}),e.jsx(w,{fullWidth:!0,error:!!(l.password&&s.password),id:"-password-login",type:m?"text":"password",value:x.password,name:"password",onBlur:n,onChange:i,endAdornment:e.jsx(S,{position:"end",children:e.jsx(q,{"aria-label":"toggle password visibility",onClick:I,onMouseDown:F,edge:"end",color:"secondary",children:m?e.jsx(D,{}):e.jsx(E,{})})}),placeholder:r.formatMessage({id:"auth.login.password"})})]}),l.password&&s.password&&e.jsx(h,{error:!0,id:"standard-weight-helper-text-password-login",children:s.password})]}),e.jsx(a,{item:!0,xs:12,sx:{mt:-1},children:e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,children:[e.jsx($,{control:e.jsx(G,{checked:y,onChange:M=>v(M.target.checked),name:"checked",color:"primary",size:"small"}),label:e.jsx(b,{variant:"h6",children:e.jsx(t,{id:"auth.login.rememberMe"})})}),e.jsx(P,{variant:"h6",component:z,to:c?"/auth/forgot-password":"/forgot-password",color:"text.primary",children:e.jsx(t,{id:"auth.login.forgotPassword"})})]})}),s.submit&&e.jsx(a,{item:!0,xs:12,children:e.jsx(h,{error:!0,children:s.submit})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(O,{children:e.jsx(W,{disableElevation:!0,disabled:u,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:e.jsx(t,{id:"auth.login.loginButton"})})})})]})})})})}function Z(){const{isLoggedIn:c}=f();return e.jsx(T,{children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,children:e.jsx(d,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:e.jsx(b,{variant:"h3",children:e.jsx(t,{id:"auth.login.title"})})})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(R,{isDemo:c})})]})})}export{Z as default};
