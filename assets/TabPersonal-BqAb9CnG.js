import{az as M,u as I,j as e,aL as b,aA as F,bk as S,c as v,B as h,G as l,S as r,I as d,l as c,m as p,q as j}from"./index-DSO9TgYq.js";function B(){const f=new Date;f.setFullYear(f.getFullYear()-18);const{user:s,getUser:_,updateProfile:g}=M(),a=I();return e.jsx(b,{content:!1,title:a.formatMessage({id:"profile.personalInfoTitle"}),sx:{"& .MuiInputLabel-root":{fontSize:"0.875rem"}},children:e.jsx(F,{initialValues:{first_name:s==null?void 0:s.first_name,last_name:s==null?void 0:s.last_name},validationSchema:S(a),onSubmit:(t,{setErrors:m,setStatus:n,setSubmitting:i})=>{try{g(t).then(o=>{_(),v(a.formatMessage({id:"admin.personalInfo.updateSuccess"})),n({success:!1}),i(!1)})}catch{n({success:!1}),i(!1)}},children:({errors:t,handleBlur:m,handleChange:n,handleSubmit:i,isSubmitting:o,setFieldValue:y,touched:x,values:u})=>e.jsxs("form",{noValidate:!0,onSubmit:i,children:[e.jsx(h,{sx:{p:2.5},children:e.jsxs(l,{container:!0,spacing:3,children:[e.jsxs(l,{item:!0,xs:12,sm:6,children:[e.jsxs(r,{spacing:1,children:[e.jsx(d,{htmlFor:"first_name",children:a.formatMessage({id:"admin.personalInfo.firstName"})}),e.jsx(c,{fullWidth:!0,id:"first_name",value:u.first_name??"",name:"first_name",onBlur:m,onChange:n,placeholder:a.formatMessage({id:"admin.personalInfo.firstName"})})]}),x.first_name&&t.first_name&&e.jsx(p,{error:!0,id:"first_name-helper",children:t.first_name})]}),e.jsxs(l,{item:!0,xs:12,sm:6,children:[e.jsxs(r,{spacing:1,children:[e.jsx(d,{htmlFor:"last_name",children:a.formatMessage({id:"admin.personalInfo.lastName"})}),e.jsx(c,{fullWidth:!0,id:"last_name",value:u.last_name??"",name:"last_name",onBlur:m,onChange:n,placeholder:a.formatMessage({id:"admin.personalInfo.lastName"})})]}),x.last_name&&t.last_name&&e.jsx(p,{error:!0,id:"last_name-helper",children:t.last_name})]}),e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(r,{spacing:1,children:[e.jsx(d,{htmlFor:"email",children:a.formatMessage({id:"profile.email"})}),e.jsx(c,{type:"text",fullWidth:!0,value:s==null?void 0:s.email,name:"email",disabled:!0,id:"email",placeholder:a.formatMessage({id:"profile.email"})})]})})]})}),e.jsx(h,{sx:{p:2.5},children:e.jsxs(r,{direction:"row",justifyContent:"flex-end",alignItems:"center",spacing:2,sx:{mt:2.5},children:[e.jsx(j,{variant:"outlined",color:"secondary",children:a.formatMessage({id:"common.cancel"})}),e.jsx(j,{disabled:o||Object.keys(t).length!==0,type:"submit",variant:"contained",children:a.formatMessage({id:"common.save"})})]})})]})})})}export{B as default};
